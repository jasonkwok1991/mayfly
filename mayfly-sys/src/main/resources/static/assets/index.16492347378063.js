var X=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable;var W=(e,o,m)=>o in e?X(e,o,{enumerable:!0,configurable:!0,writable:!0,value:m}):e[o]=m,T=(e,o)=>{for(var m in o||(o={}))x.call(o,m)&&W(e,m,o[m]);if(H)for(var m of H(o))ee.call(o,m)&&W(e,m,o[m]);return e},P=(e,o)=>Y(e,Z(o));import{l as J,a3 as le,r as L,a as z,z as oe,o as j,F as G,t as K,d as y,q as i,e as k,j as n,k as l,T as te,w,v as ne,f as E,i as D,n as U,H as b,G as d,I as A,J as N,y as Q,E as O,h as F,V as ae,g as R,A as ue,P as ie}from"./vendor.1649234737806.js";import{e as $,r as B}from"./enums.1649234737806.js";import{n as se}from"./assert.1649234737806.js";import{_ as q}from"./index.1649234737806.js";import"./Api.1649234737806.js";import"./Enum.1649234737806.js";const re=()=>new Promise((e,o)=>{J(()=>{const m=le,h=[];for(const u in m)h.push(`${m[u].name}`);h.length>0?e(h):o("\u672A\u83B7\u53D6\u5230\u503C\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5")})}),de={ele:()=>re()},me={name:"iconSelector",emits:["update:modelValue","get","clear"],props:{prepend:{type:String,default:()=>"Pointer"},placeholder:{type:String,default:()=>"\u8BF7\u8F93\u5165\u5185\u5BB9\u641C\u7D22\u56FE\u6807\u6216\u8005\u9009\u62E9\u56FE\u6807"},size:{type:String,default:()=>"default"},title:{type:String,default:()=>"\u8BF7\u9009\u62E9\u56FE\u6807"},type:{type:String,default:()=>"ele"},disabled:{type:Boolean,default:()=>!1},clearable:{type:Boolean,default:()=>!0},emptyDescription:{type:String,default:()=>"\u65E0\u76F8\u5173\u56FE\u6807"},modelValue:String},setup(e,{emit:o}){const m=L(),h=L(),u=z({fontIconPrefix:"",fontIconVisible:!1,fontIconWidth:0,fontIconSearch:"",fontIconTabsIndex:0,fontIconSheetsList:[],fontIconPlaceholder:"",fontIconType:"ali",fontIconShow:!0}),C=()=>{if(u.fontIconVisible=!0,!e.modelValue)return!1;u.fontIconSearch="",u.fontIconPlaceholder=e.modelValue},V=()=>{u.fontIconVisible=!1,setTimeout(()=>{u.fontIconSheetsList.filter(a=>a===u.fontIconSearch).length<=0&&(u.fontIconSearch="")},300)},I=()=>{if(e.modelValue==="")return!1;u.fontIconPlaceholder=e.modelValue,u.fontIconPrefix=e.modelValue},p=oe(()=>{if(!u.fontIconSearch)return u.fontIconSheetsList;let _=u.fontIconSearch.trim().toLowerCase();return u.fontIconSheetsList.filter(a=>{if(a.toLowerCase().indexOf(_)!==-1)return a})}),t=()=>{J(()=>{u.fontIconWidth=m.value.$el.offsetWidth})},f=()=>{window.addEventListener("resize",()=>{t()})},r=async _=>{u.fontIconSheetsList=[],_==="ali"||_==="ele"&&await de.ele().then(a=>{u.fontIconSheetsList=a}),u.fontIconPlaceholder=e.placeholder,I(),h.value.wrap$.scrollTop=0},s=_=>{u.fontIconType=_,r(_)},v=_=>{u.fontIconPlaceholder=_,u.fontIconVisible=!1,u.fontIconPrefix=_,o("get",u.fontIconPrefix),o("update:modelValue",u.fontIconPrefix)},c=()=>{u.fontIconPrefix="",o("clear",u.fontIconPrefix),o("update:modelValue",u.fontIconPrefix)};return j(()=>{e.type==="all"||s(e.type),f(),t()}),G(()=>e.modelValue,()=>{I()}),T({inputWidthRef:m,selectorScrollbarRef:h,fontIconSheetsFilterList:p,onColClick:v,onIconChange:s,onClearFontIcon:c,onIconFocus:C,onIconBlur:V},K(u))}},fe={class:"icon-selector"},pe={class:"icon-selector-warp"},ce={class:"icon-selector-warp-title flex"},ye={class:"flex-auto"},ge={key:0,class:"icon-selector-warp-title-tab"},Fe={class:"icon-selector-warp-row"},be={class:"flex-margin"},ve={class:"icon-selector-warp-item-value"};function he(e,o,m,h,u,C){const V=y("SvgIcon"),I=y("el-input"),p=y("el-col"),t=y("el-row"),f=y("el-empty"),r=y("el-scrollbar"),s=y("el-popover");return i(),k("div",fe,[n(s,{placement:"bottom",width:450,visible:e.fontIconVisible,"onUpdate:visible":o[4]||(o[4]=v=>e.fontIconVisible=v),"popper-class":"icon-selector-popper"},{reference:l(()=>[n(I,{modelValue:e.fontIconSearch,"onUpdate:modelValue":o[0]||(o[0]=v=>e.fontIconSearch=v),placeholder:e.fontIconPlaceholder,clearable:m.clearable,disabled:m.disabled,size:m.size,ref:"inputWidthRef",onClear:h.onClearFontIcon,onFocus:h.onIconFocus,onBlur:h.onIconBlur},{prepend:l(()=>[n(V,{name:m.prepend,class:"font14"},null,8,["name"])]),_:1},8,["modelValue","placeholder","clearable","disabled","size","onClear","onFocus","onBlur"])]),default:l(()=>[n(te,{name:"el-zoom-in-top"},{default:l(()=>[w(E("div",pe,[E("div",ce,[E("div",ye,D(m.title),1),m.type==="all"?(i(),k("div",ge,[E("span",{class:U([{"span-active":e.fontIconType==="ali"},"ml10"]),onClick:o[1]||(o[1]=v=>h.onIconChange("ali")),title:"iconfont \u56FE\u6807"},"ali",2),E("span",{class:U([{"span-active":e.fontIconType==="ele"},"ml10"]),onClick:o[2]||(o[2]=v=>h.onIconChange("ele")),title:"elementPlus \u56FE\u6807"},"ele",2),E("span",{class:U([{"span-active":e.fontIconType==="awe"},"ml10"]),onClick:o[3]||(o[3]=v=>h.onIconChange("awe")),title:"fontawesome \u56FE\u6807"},"awe",2)])):b("",!0)]),E("div",Fe,[n(r,{ref:"selectorScrollbarRef"},{default:l(()=>[h.fontIconSheetsFilterList.length>0?(i(),d(t,{key:0,gutter:10},{default:l(()=>[(i(!0),k(A,null,N(h.fontIconSheetsFilterList,(v,c)=>(i(),d(p,{xs:6,sm:4,md:4,lg:4,xl:4,onClick:_=>h.onColClick(v),key:c},{default:l(()=>[E("div",{class:U(["icon-selector-warp-item",{"icon-selector-active":e.fontIconPrefix===v}])},[E("div",be,[E("div",ve,[n(V,{name:v},null,8,["name"])])])],2)]),_:2},1032,["onClick"]))),128))]),_:1})):b("",!0),h.fontIconSheetsFilterList.length<=0?(i(),d(f,{key:1,"image-size":100,description:m.emptyDescription},null,8,["description"])):b("",!0)]),_:1},512)])],512),[[ne,e.fontIconVisible]])]),_:1})]),_:1},8,["visible"])])}var Ee=q(me,[["render",he]]);const De=Q({name:"ResourceEdit",components:{iconSelector:Ee},props:{visible:{type:Boolean},data:{type:[Boolean,Object]},title:{type:String},typeDisabled:{type:Boolean}},setup(e,{emit:o}){const m=L(null),h={routeName:"",icon:"",redirect:"",component:"",isKeepAlive:!0,isHide:!1,isAffix:!1,isIframe:!1},u=z({trueFalseOption:[{label:"\u662F",value:!0},{label:"\u5426",value:!1}],dialogVisible:!1,dialogForm:{title:"",visible:!1,data:{}},props:{value:"id",label:"name",children:"children"},form:{id:null,name:null,pid:null,code:null,type:null,weight:0,meta:{routeName:"",icon:"",redirect:"",component:"",isKeepAlive:!0,isHide:!1,isAffix:!1,isIframe:!1}},btnLoading:!1,rules:{name:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D44\u6E90\u540D\u79F0",trigger:["change","blur"]}],weight:[{required:!0,message:"\u8BF7\u8F93\u5165\u5E8F\u53F7",trigger:["change","blur"]}]}});G(e,t=>{u.dialogVisible=t.visible,t.data?u.form=T({},t.data):u.form={},u.form.meta||(u.form.meta=h);const f=u.form.meta;u.form.meta.isKeepAlive=!!f.isKeepAlive,u.form.meta.isHide=!!f.isHide,u.form.meta.isAffix=!!f.isAffix,u.form.meta.isIframe=!!f.isIframe});const C=t=>{t&&(u.form.meta.component="RouterParent")},V=()=>{const t=T({},u.form);t.type==1?t.meta=I(t.meta):t.meta=null,t.weight=parseInt(t.weight);let f=t.id?B.update:B.save;m.value.validate(r=>{if(r)f.request(t).then(()=>{o("val-change",t),u.btnLoading=!0,O.success("\u4FDD\u5B58\u6210\u529F"),setTimeout(()=>{u.btnLoading=!1},1e3),p()});else return!1})},I=t=>{let f={};return se(t.routeName,"\u8DEF\u7531\u540D\u4E0D\u80FD\u4E3A\u7A7A"),f.routeName=t.routeName,t.isKeepAlive&&(f.isKeepAlive=!0),t.isHide&&(f.isHide=!0),t.isAffix&&(f.isAffix=!0),t.isIframe&&(f.isIframe=!0),t.link&&(f.link=t.link),t.redirect&&(f.redirect=t.redirect),t.component&&(f.component=t.component),t.icon&&(f.icon=t.icon),f},p=()=>{o("update:visible",!1),setTimeout(()=>{o("cancel"),m.value.resetFields(),u.form={}},200)};return P(T({},K(u)),{enums:$,changeIsIframe:C,menuForm:m,btnOk:V,cancel:p})}}),Ie={class:"menu-dialog"},Ve={style:{"text-align":"center"},class:"dialog-footer mt10"},_e=F("\u786E \u5B9A"),ke=F("\u53D6 \u6D88");function Ce(e,o,m,h,u,C){const V=y("el-option"),I=y("el-select"),p=y("el-form-item"),t=y("el-col"),f=y("el-input"),r=y("icon-selector"),s=y("el-row"),v=y("el-form"),c=y("el-button"),_=y("el-dialog");return i(),k("div",Ie,[n(_,{title:e.title,"destroy-on-close":!0,modelValue:e.dialogVisible,"onUpdate:modelValue":o[13]||(o[13]=a=>e.dialogVisible=a),width:"769px"},{default:l(()=>[n(v,{model:e.form,inline:!0,ref:"menuForm",rules:e.rules,"label-width":"95px"},{default:l(()=>[n(s,{gutter:10},{default:l(()=>[n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[n(p,{prop:"type",label:"\u7C7B\u578B",required:""},{default:l(()=>[n(I,{modelValue:e.form.type,"onUpdate:modelValue":o[0]||(o[0]=a=>e.form.type=a),disabled:e.typeDisabled,placeholder:"\u8BF7\u9009\u62E9",style:{width:"100%"}},{default:l(()=>[(i(!0),k(A,null,N(e.enums.ResourceTypeEnum,a=>(i(),d(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[n(p,{prop:"name",label:"\u540D\u79F0",required:""},{default:l(()=>[n(f,{modelValue:e.form.name,"onUpdate:modelValue":o[1]||(o[1]=a=>e.form.name=a),modelModifiers:{trim:!0},placeholder:"\u8D44\u6E90\u540D[\u83DC\u5355\u540D]","auto-complete":"off",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[n(p,{prop:"code",label:"path|code"},{default:l(()=>[n(f,{modelValue:e.form.code,"onUpdate:modelValue":o[2]||(o[2]=a=>e.form.code=a),modelModifiers:{trim:!0},placeholder:"\u83DC\u5355\u4E0D\u5E26/\u81EA\u52A8\u62FC\u63A5\u7236\u8DEF\u5F84"},null,8,["modelValue"])]),_:1})]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[n(p,{label:"\u5E8F\u53F7",prop:"weight",required:""},{default:l(()=>[n(f,{modelValue:e.form.weight,"onUpdate:modelValue":o[3]||(o[3]=a=>e.form.weight=a),modelModifiers:{trim:!0},type:"number",placeholder:"\u8BF7\u8F93\u5165\u5E8F\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,label:"\u56FE\u6807"},{default:l(()=>[n(r,{modelValue:e.form.meta.icon,"onUpdate:modelValue":o[4]||(o[4]=a=>e.form.meta.icon=a),type:"ele"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"\u8DEF\u7531\u540D"},{default:l(()=>[n(f,{modelValue:e.form.meta.routeName,"onUpdate:modelValue":o[5]||(o[5]=a=>e.form.meta.routeName=a),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u8DEF\u7531\u540D\u79F0"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"\u7EC4\u4EF6"},{default:l(()=>[n(f,{modelValue:e.form.meta.component,"onUpdate:modelValue":o[6]||(o[6]=a=>e.form.meta.component=a),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165\u7EC4\u4EF6\u540D"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"\u662F\u5426\u7F13\u5B58"},{default:l(()=>[n(I,{modelValue:e.form.meta.isKeepAlive,"onUpdate:modelValue":o[7]||(o[7]=a=>e.form.meta.isKeepAlive=a),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(i(!0),k(A,null,N(e.trueFalseOption,a=>(i(),d(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"\u662F\u5426\u9690\u85CF"},{default:l(()=>[n(I,{modelValue:e.form.meta.isHide,"onUpdate:modelValue":o[8]||(o[8]=a=>e.form.meta.isHide=a),placeholder:"\u8BF7\u9009\u62E9",width:"w100"},{default:l(()=>[(i(!0),k(A,null,N(e.trueFalseOption,a=>(i(),d(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"tag\u4E0D\u53EF\u5220\u9664"},{default:l(()=>[n(I,{modelValue:e.form.meta.isAffix,"onUpdate:modelValue":o[9]||(o[9]=a=>e.form.meta.isAffix=a),placeholder:"\u8BF7\u9009\u62E9",width:"w100"},{default:l(()=>[(i(!0),k(A,null,N(e.trueFalseOption,a=>(i(),d(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(p,{key:0,prop:"code",label:"\u662F\u5426iframe"},{default:l(()=>[n(I,{onChange:e.changeIsIframe,modelValue:e.form.meta.isIframe,"onUpdate:modelValue":o[10]||(o[10]=a=>e.form.meta.isIframe=a),placeholder:"\u8BF7\u9009\u62E9",width:"w100"},{default:l(()=>[(i(!0),k(A,null,N(e.trueFalseOption,a=>(i(),d(V,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["onChange","modelValue"])]),_:1})):b("",!0)]),_:1}),n(t,{xs:24,sm:12,md:12,lg:12,xl:12,class:"mb10"},{default:l(()=>[e.form.type===e.enums.ResourceTypeEnum.MENU.value&&e.form.meta.isIframe?(i(),d(p,{key:0,prop:"code",label:"iframe\u5730\u5740"},{default:l(()=>[n(f,{modelValue:e.form.meta.link,"onUpdate:modelValue":o[11]||(o[11]=a=>e.form.meta.link=a),modelModifiers:{trim:!0},placeholder:"\u8BF7\u8F93\u5165iframe url"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1})]),_:1})]),_:1},8,["model","rules"]),E("div",Ve,[n(c,{type:"primary",loading:e.btnLoading,onClick:e.btnOk},{default:l(()=>[_e]),_:1},8,["loading","onClick"]),n(c,{onClick:o[12]||(o[12]=a=>e.cancel())},{default:l(()=>[ke]),_:1})])]),_:1},8,["title","modelValue"])])}var we=q(De,[["render",Ce]]);const Be=Q({name:"ResourceList",components:{ResourceEdit:we},setup(){const e=z({menuTypeValue:$.ResourceTypeEnum.MENU.value,permissionTypeValue:$.ResourceTypeEnum.PERMISSION.value,showBtns:!1,rightClickData:{},dialogForm:{title:"",visible:!1,data:{pid:0,type:1,weight:1},typeDisabled:!0},infoDialog:{title:"",visible:!1,data:{meta:{}}},data:[],props:{label:"name",children:"children"},defaultExpandedKeys:[]});j(()=>{o()});const o=async()=>{let r=await B.list.request(null);e.data=r},m=r=>{ie.confirm(`\u6B64\u64CD\u4F5C\u5C06\u5220\u9664 [${r.name}], \u662F\u5426\u7EE7\u7EED?`,"\u63D0\u793A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{B.del.request({id:r.id}).then(()=>{O.success("\u5220\u9664\u6210\u529F\uFF01"),o()})})},h=r=>{let s=e.dialogForm;if(s.data={pid:0,type:1,weight:1},!r){s.typeDisabled=!0,s.data.type=e.menuTypeValue,s.title="\u6DFB\u52A0\u9876\u7EA7\u83DC\u5355",s.visible=!0;return}if(s.data.pid=r.id,s.title="\u6DFB\u52A0\u201C"+r.name+"\u201D\u7684\u5B50\u8D44\u6E90 ",r.children===null||r.children.length===0)s.typeDisabled=!1;else{s.typeDisabled=!0;let v=!1;for(let c of r.children)if(c.type===e.permissionTypeValue){v=!0;break}v?s.data.type=e.permissionTypeValue:s.data.type=e.menuTypeValue,s.data.weight=r.children.length+1}s.visible=!0},u=async r=>{e.dialogForm.visible=!0;const s=await B.detail.request({id:r.id});s.meta&&(s.meta=JSON.parse(s.meta)),e.dialogForm.data=s,e.dialogForm.typeDisabled=!0,e.dialogForm.title="\u4FEE\u6539\u201C"+r.name+"\u201D\u83DC\u5355"},C=()=>{o(),e.dialogForm.visible=!1},V=async(r,s)=>{await B.changeStatus.request({id:r.id,status:s}),r.status=s,O.success((s===1?"\u542F\u7528":"\u7981\u7528")+"\u6210\u529F\uFF01")},I=(r,s)=>{const v=s.data.id;e.defaultExpandedKeys.includes(v)||e.defaultExpandedKeys.push(v)},p=(r,s)=>{t(s.data.id);let v=s.childNodes;for(let c of v){if(c.data.type==2)return;c.expanded&&t(c.data.id),p(r,c)}},t=r=>{let s=e.defaultExpandedKeys.indexOf(r);s>-1&&e.defaultExpandedKeys.splice(s,1)},f=async r=>{let s=await B.detail.request({id:r.id});e.infoDialog.data=s,s.meta&&s.meta!=""&&(e.infoDialog.data.meta=JSON.parse(s.meta)),e.infoDialog.visible=!0};return P(T({},K(e)),{enums:$,deleteMenu:m,addResource:h,editResource:u,valChange:C,changeStatus:V,handleNodeExpand:I,handleNodeCollapse:p,info:f})}}),Se={class:"menu"},Te={class:"toolbar"},Re=E("div",null,[E("span",{style:{"font-size":"14px"}},[E("i",{class:"info"}),F("\u7EA2\u8272\u5B57\u4F53\u8868\u793A\u7981\u7528\u72B6\u6001,\u53F3\u51FB\u9F20\u6807\u663E\u793A\u64CD\u4F5C ")])],-1),Ae=F("\u6DFB\u52A0"),Ne={class:"custom-tree-node"},Me={class:"el-dropdown-link"},Ue={key:0,style:{"font-size":"13px"}},$e=E("span",{style:{color:"#3c8dbc"}},"\u3010",-1),Pe=E("span",{style:{color:"#3c8dbc"}},"\u3011",-1),Le={key:1,style:{"font-size":"13px"}},Oe=E("span",{style:{color:"#3c8dbc"}},"\u3010",-1),ze=E("span",{style:{color:"#3c8dbc"}},"\u3011",-1),Ke=F("\u67E5\u770B"),qe=F(" \u4FEE\u6539 "),He=F(" \u65B0\u589E "),We=F(" \u7981\u7528 "),Je=F(" \u542F\u7528 "),je=F(" \u5220\u9664 ");function Ge(e,o,m,h,u,C){const V=y("el-button"),I=y("el-tag"),p=y("el-link"),t=y("el-dropdown-item"),f=y("el-dropdown-menu"),r=y("el-dropdown"),s=y("el-tree"),v=y("ResourceEdit"),c=y("el-descriptions-item"),_=y("el-descriptions"),a=y("el-dialog"),S=ae("auth");return i(),k("div",Se,[E("div",Te,[Re,w((i(),d(V,{type:"primary",icon:"plus",onClick:o[0]||(o[0]=g=>e.addResource(!1))},{default:l(()=>[Ae]),_:1})),[[S,"resource:add"]])]),n(s,{class:"none-select",indent:38,"node-key":"id",props:e.props,data:e.data,onNodeExpand:e.handleNodeExpand,onNodeCollapse:e.handleNodeCollapse,"default-expanded-keys":e.defaultExpandedKeys},{default:l(({data:g})=>[E("span",Ne,[n(r,{trigger:"contextmenu"},{dropdown:l(()=>[n(f,null,{default:l(()=>[n(t,null,{default:l(()=>[n(p,{onClick:R(M=>e.info(g),["prevent"]),icon:"view",type:"info",underline:!1},{default:l(()=>[Ke]),_:2},1032,["onClick"])]),_:2},1024),n(t,null,{default:l(()=>[w((i(),d(p,{onClick:R(M=>e.editResource(g),["prevent"]),type:"primary",icon:"edit",underline:!1},{default:l(()=>[qe]),_:2},1032,["onClick"])),[[S,"resource:update"]])]),_:2},1024),g.type===e.enums.ResourceTypeEnum.MENU.value?(i(),d(t,{key:0},{default:l(()=>[w((i(),d(p,{onClick:R(M=>e.addResource(g),["prevent"]),icon:"plus",underline:!1,type:"success"},{default:l(()=>[He]),_:2},1032,["onClick"])),[[S,"resource:add"]])]),_:2},1024)):b("",!0),g.status===1&&g.type===e.enums.ResourceTypeEnum.PERMISSION.value?(i(),d(t,{key:1},{default:l(()=>[w((i(),d(p,{onClick:R(M=>e.changeStatus(g,0),["prevent"]),icon:"circle-close",underline:!1,type:"warning"},{default:l(()=>[We]),_:2},1032,["onClick"])),[[S,"resource:changeStatus"]])]),_:2},1024)):b("",!0),g.status===0&&g.type===e.enums.ResourceTypeEnum.PERMISSION.value?(i(),d(t,{key:2},{default:l(()=>[w((i(),d(p,{onClick:R(M=>e.changeStatus(g,1),["prevent"]),type:"success",icon:"circle-check",underline:!1,plain:""},{default:l(()=>[Je]),_:2},1032,["onClick"])),[[S,"resource:changeStatus"]])]),_:2},1024)):b("",!0),g.children==null&&g.name!=="\u9996\u9875"?(i(),d(t,{key:3},{default:l(()=>[w((i(),d(p,{onClick:R(M=>e.deleteMenu(g),["prevent"]),type:"danger",icon:"delete",underline:!1,plain:""},{default:l(()=>[je]),_:2},1032,["onClick"])),[[S,"resource:del"]])]),_:2},1024)):b("",!0)]),_:2},1024)]),default:l(()=>[E("span",Me,[g.type===e.enums.ResourceTypeEnum.MENU.value?(i(),k("span",Ue,[$e,F(" "+D(g.name)+" ",1),Pe,g.children!==null?(i(),d(I,{key:0},{default:l(()=>[F(D(g.children.length),1)]),_:2},1024)):b("",!0)])):b("",!0),g.type===e.enums.ResourceTypeEnum.PERMISSION.value?(i(),k("span",Le,[Oe,E("span",{style:ue(g.status==1?"color: #67c23a;":"color: #f67c6c;")},D(g.name),5),ze])):b("",!0)])]),_:2},1024)])]),_:1},8,["props","data","onNodeExpand","onNodeCollapse","default-expanded-keys"]),n(v,{title:e.dialogForm.title,visible:e.dialogForm.visible,"onUpdate:visible":o[1]||(o[1]=g=>e.dialogForm.visible=g),data:e.dialogForm.data,"onUpdate:data":o[2]||(o[2]=g=>e.dialogForm.data=g),typeDisabled:e.dialogForm.typeDisabled,departTree:e.data,type:e.dialogForm.type,onValChange:e.valChange},null,8,["title","visible","data","typeDisabled","departTree","type","onValChange"]),n(a,{modelValue:e.infoDialog.visible,"onUpdate:modelValue":o[3]||(o[3]=g=>e.infoDialog.visible=g)},{default:l(()=>[n(_,{title:"\u8D44\u6E90\u4FE1\u606F",column:2,border:""},{default:l(()=>[n(c,{label:"\u7C7B\u578B"},{default:l(()=>[n(I,{size:"small"},{default:l(()=>[F(D(e.enums.ResourceTypeEnum.getLabelByValue(e.infoDialog.data.type)),1)]),_:1})]),_:1}),n(c,{label:"\u540D\u79F0"},{default:l(()=>[F(D(e.infoDialog.data.name),1)]),_:1}),n(c,{label:"code[\u83DC\u5355path]"},{default:l(()=>[F(D(e.infoDialog.data.code),1)]),_:1}),n(c,{label:"\u5E8F\u53F7"},{default:l(()=>[F(D(e.infoDialog.data.weight),1)]),_:1}),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:0,label:"\u8DEF\u7531\u540D"},{default:l(()=>[F(D(e.infoDialog.data.meta.routeName),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:1,label:"\u7EC4\u4EF6"},{default:l(()=>[F(D(e.infoDialog.data.meta.component),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:2,label:"\u662F\u5426\u7F13\u5B58"},{default:l(()=>[F(D(e.infoDialog.data.meta.isKeepAlive?"\u662F":"\u5426"),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:3,label:"\u662F\u5426\u9690\u85CF"},{default:l(()=>[F(D(e.infoDialog.data.meta.isHide?"\u662F":"\u5426"),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:4,label:"tag\u4E0D\u53EF\u5220\u9664"},{default:l(()=>[F(D(e.infoDialog.data.meta.isAffix?"\u662F":"\u5426"),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue?(i(),d(c,{key:5,label:"\u662F\u5426iframe"},{default:l(()=>[F(D(e.infoDialog.data.meta.isIframe?"\u662F":"\u5426"),1)]),_:1})):b("",!0),e.infoDialog.data.type==e.menuTypeValue&&e.infoDialog.data.meta.isIframe?(i(),d(c,{key:6,label:"iframe url"},{default:l(()=>[F(D(e.infoDialog.data.meta.link),1)]),_:1})):b("",!0),n(c,{label:"\u521B\u5EFA\u8005"},{default:l(()=>[F(D(e.infoDialog.data.creator),1)]),_:1}),n(c,{label:"\u521B\u5EFA\u65F6\u95F4"},{default:l(()=>[F(D(e.$filters.dateFormat(e.infoDialog.data.createTime)),1)]),_:1}),n(c,{label:"\u4FEE\u6539\u8005"},{default:l(()=>[F(D(e.infoDialog.data.modifier),1)]),_:1}),n(c,{label:"\u66F4\u65B0\u65F6\u95F4"},{default:l(()=>[F(D(e.$filters.dateFormat(e.infoDialog.data.updateTime)),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var ol=q(Be,[["render",Ge]]);export{ol as default};
